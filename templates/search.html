{% extends 'template.html' %}

{% block content %}
<div class="search-container">
    <form class="search-form" action="{{ url_for('search') }}" method="GET">
        <input class="search-input" type="text" name="search_query" id="search_query" placeholder="Välj vad vill du söka efter" required>
        <button class="search-button" type="submit">Sök</button>
    </form>
</div>
<div class="customer-profile">
    {% if results %}
        <h3>Resultat:</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Namn</th>
                    <th>Personnummer</th>
                    <th>Address</th>
                    <th>City</th>
                    <th>Profil</th> 
                </tr>
            </thead>
            <tbody>
                {% for customer in results.items %}
                    <tr>
                        <td>{{ customer.id }}</td>
                        <td>{{ customer.namn }}</td>
                        <td>{{ customer.personnummer }}</td>
                        <td>{{ customer.address }}</td>
                        <td>{{ customer.city }}</td>
                        <td><a href="{{ url_for('customer_profile', customer_id=customer.id) }}">Se Profilen</a></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        
        <div class="pagination">
            <ul class="pagination-list">
                {% if results.has_prev %}
                    <li><a href="{{ url_for('search', page=results.prev_num, search_query=search_query) }}"><< Previous</a></li>
                {% endif %}
                <li>Sidan {{ results.page }} av {{ results.pages }}</li>
                {% if results.has_next %}
                    <li><a href="{{ url_for('search', page=results.next_num, search_query=search_query) }}">Next >></a></li>
                {% endif %}
            </ul>
        </div>
    {% else %}
        <p>No results found.</p>
    {% endif %}
</div>
{% endblock %}
